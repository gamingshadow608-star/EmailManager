{% extends 'layout.html' %}

{% block content %}
<h2 class="mb-3">Connect Email Account</h2>
<form method="post">
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="email_address" class="form-label">Your email address</label>
      <input type="email" class="form-control" id="email_address" name="email_address" value="{{ current.email_address if current }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label for="username" class="form-label">Mail username (often same as email)</label>
      <input type="text" class="form-control" id="username" name="username" value="{{ current.username if current }}" required>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="imap_server" class="form-label">IMAP server</label>
      <input type="text" class="form-control" id="imap_server" name="imap_server" value="{{ current.imap_server if current }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label for="imap_port" class="form-label">IMAP port</label>
      <input type="number" class="form-control" id="imap_port" name="imap_port" value="{{ current.imap_port if current else 993 }}" required>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="smtp_server" class="form-label">SMTP server</label>
      <input type="text" class="form-control" id="smtp_server" name="smtp_server" value="{{ current.smtp_server if current }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label for="smtp_port" class="form-label">SMTP port</label>
      <input type="number" class="form-control" id="smtp_port" name="smtp_port" value="{{ current.smtp_port if current else 465 }}" required>
    </div>
  </div>
  <div class="mb-3">
    <label for="password" class="form-label">Mail password</label>
    <input type="password" class="form-control" id="password" name="password" placeholder="Enter your mail password" required>
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
  <a href="{{ url_for('index') }}" class="btn btn-secondary ms-2">Cancel</a>
</form>
{% endblock %}